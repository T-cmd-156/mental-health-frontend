# 心理健康教育平台项目结构与功能说明

## 项目概述

本项目是一个心理健康教育平台，包含学生端、家长端和管理端三个主要模块，旨在为学生提供心理健康服务，为家长提供子女心理健康状况的查看权限，为管理者提供后台管理功能。

## 项目结构

### 总体目录结构

```
src/
├── api/             # API接口封装
├── assets/          # 静态资源
├── components/      # 通用组件
├── hooks/           # 自定义钩子
├── mock/            # 模拟数据
├── router/          # 路由配置
├── store/           # 状态管理
├── types/           # TypeScript类型定义
├── utils/           # 工具函数
├── views/           # 页面组件
│   ├── admin/       # 管理端
│   ├── appointment/ # 预约相关
│   ├── articles/    # 文章相关
│   ├── counselor/   # 咨询师端
│   ├── login/       # 登录页面
│   ├── message/     # 消息中心
│   ├── notices/     # 通知公告
│   ├── parent/      # 家长端
│   ├── peer/        # 朋辈支持
│   ├── portal/      # 门户首页
│   ├── student/     # 学生端
│   └── wiki/        # 心理百科
├── App.vue          # 根组件
├── main.js          # 入口文件
└── style.css        # 全局样式
```

## 学生端模块

### 目录结构

```
src/views/student/
├── activity/           # 活动相关
│   ├── ActivityDetail.vue    # 活动详情
│   ├── ActivityList.vue      # 活动列表
│   └── MyActivities.vue      # 我的活动
├── assessment/         # 测评相关
│   ├── Assessment.vue        # 测评详情
│   ├── AssessmentList.vue    # 测评列表
│   └── AssessmentResult.vue  # 测评结果
├── crisis/             # 危机上报
│   └── CrisisReport.vue      # 危机上报页面
├── profile/            # 个人档案
│   └── Profile.vue           # 个人档案页面
├── statistics/         # 数据统计
│   └── Statistics.vue        # 数据统计页面
└── StudentDashboard.vue       # 学生工作台
```

### 功能说明

#### 1. 学生工作台
- **路径**: `/student`
- **功能**: 学生的主要入口，提供快捷访问各项功能的卡片式导航
- **包含模块**:
  - 我的预约
  - 在线预约
  - 心理测评
  - 团体活动
  - 心理自助
  - 危机上报
  - 个人档案

#### 2. 心理测评
- **路径**: `/student/assessment`
- **功能**: 查看测评任务列表，开始测评，查看测评结果
- **主要功能**:
  - 测评列表展示（待完成、已完成、已过期）
  - 按状态筛选测评
  - 开始测评
  - 查看测评结果
  - 测评详情查看

#### 3. 团体活动
- **路径**: `/student/activity`
- **功能**: 查看和报名心理健康团体活动
- **主要功能**:
  - 活动列表展示
  - 活动类型和状态筛选
  - 活动详情查看
  - 活动报名
  - 我的活动管理
  - 活动签到

#### 4. 个人档案
- **路径**: `/student/profile`
- **功能**: 查看个人基本信息和心理档案
- **主要功能**:
  - 基本信息：姓名、学号、性别、年龄、出生日期、民族
  - 学业信息：学院、专业、班级、入学时间、学业状态
  - 健康信息：身体状况、既往病史、过敏史
  - 联系方式：手机、邮箱、紧急联系人
  - 心理测评档案：测评历史记录、得分、等级
  - 访谈档案：访谈记录、访谈者、时长
  - 咨询档案：咨询记录、咨询师、时长
  - 危机干预档案：危机记录、等级、状态
  - 活动档案：活动参与记录、状态
  - 转介记录：转介机构、转介原因
  - 行为记录：行为类型、描述
  - 标签系统：个人标签
  - 档案导出功能

**学生心理档案详细内容**
```
学生心理档案 
 ├── 基本信息 √ 
 ├── 学业信息 √ 
 ├── 健康信息 √ 
 ├── 心理测评档案 √ 
 ├── 访谈档案 √ 
 ├── 咨询档案 √ 
 ├── 危机干预档案 √ 
 ├── 活动档案 √ 
 ├── 转介记录 √ 
 ├── 行为记录 √ 
 ├── 标签系统 √ 
 └── 档案导出 √ 
```

#### 5. 危机上报
- **路径**: `/student/crisis`
- **功能**: 危机事件上报与求助
- **主要功能**:
  - 上报类型选择（本人危机、他人危机）
  - 危机等级选择：
    - 红色（极高危）：出现严重自伤或伤人倾向，需要紧急干预
    - 橙色（高危）：情绪极度不稳定，有自伤风险
    - 黄色（中危）：情绪困扰明显，影响学习生活
    - 蓝色（轻度）：情绪波动，能正常学习生活
    - 绿色（正常/关注）：情绪稳定，学习生活正常
  - 危机详情描述
  - 涉及人员信息（他人危机时填写）
  - 联系人信息
  - 紧急程度选择
  - 危机上报流程：上报来源 → 危机评估 → 危机干预 → 动态记录 → 出库结案

**危机预警等级详细内容**
```
危机预警等级 
 ├── 红色（极高危） 
 ├── 橙色（高危） 
 ├── 黄色（中危） 
 ├── 蓝色（轻度） 
 └── 绿色（正常/关注） 
```

**危机个案上报详细内容**
```
危机个案上报 
 ├── 上报来源 √ 
 ├── 上报流程 √ 
 ├── 危机评估 √ 
 ├── 危机干预 √ 
 ├── 动态记录 √ 
 └── 出库结案 √ 
```

#### 6. 数据统计
- **路径**: `/student/statistics`
- **功能**: 查看个人心理健康相关数据统计
- **主要功能**:
  - 统计维度：测评统计、咨询统计、活动参与统计
  - 报告类型：个人心理健康报告、测评历史报告
  - 图表展示：数据趋势图、对比分析图
  - 导出功能：导出统计报告、导出数据表格

**数据统计详细内容**
```
数据统计 
 ├── 统计维度 √ 
 ├── 报告类型 √ 
 ├── 图表展示 √ 
 └── 导出功能 √ 
```

## 家长端模块

### 目录结构

```
src/views/parent/
├── activity/           # 活动记录
│   └── ActivityView.vue      # 子女活动记录查看
├── appointment/        # 预约咨询
│   └── AppointmentView.vue   # 子女预约记录查看
├── assessment/         # 测评情况
│   └── AssessmentView.vue    # 子女测评记录查看
├── children/           # 子女管理
│   └── ChildManagement.vue   # 子女绑定与管理
├── contact/            # 联系辅导员
│   └── ContactCounselor.vue  # 与辅导员沟通
├── message/            # 家长留言箱
│   └── ParentMessage.vue     # 留言发送与查看
├── profile/            # 成长档案
│   └── ProfileView.vue       # 子女成长档案查看
└── ParentDashboard.vue        # 家长工作台
```

### 功能说明

#### 1. 家长工作台
- **路径**: `/parent/dashboard`
- **功能**: 家长的主要入口，提供子女切换和快捷访问各项功能
- **包含模块**:
  - 子女切换器
  - 子女概览卡片
  - 最近通知
  - 快捷操作（子女管理、测评情况、预约咨询、活动记录、成长档案、联系辅导员、留言箱、通知公告）

#### 2. 子女管理
- **路径**: `/parent/children`
- **功能**: 绑定和解绑子女，管理子女列表
- **主要功能**:
  - 绑定子女表单
  - 子女列表展示
  - 解绑子女功能
  - 子女信息编辑

#### 3. 测评情况查看
- **路径**: `/parent/assessment`
- **功能**: 查看子女的心理测评记录和统计
- **主要功能**:
  - 子女切换
  - 测评记录展示
  - 测评统计（总测评次数、已完成、待完成、平均得分）
  - 测评详情查看

#### 4. 预约咨询查看
- **路径**: `/parent/appointment`
- **功能**: 查看子女的心理咨询预约记录
- **主要功能**:
  - 子女切换
  - 预约记录展示
  - 预约状态查看
  - 预约详情查看

#### 5. 活动记录查看
- **路径**: `/parent/activity`
- **功能**: 查看子女的活动参与记录
- **主要功能**:
  - 子女切换
  - 活动记录展示
  - 活动详情查看
  - 活动参与状态查看

#### 6. 成长档案查看
- **路径**: `/parent/profile`
- **功能**: 查看子女的成长档案和历史记录
- **主要功能**:
  - 子女切换
  - 基本信息：姓名、学号、性别、年龄、出生日期、民族
  - 学业信息：学院、专业、班级、入学时间、学业状态
  - 健康信息：身体状况、既往病史、过敏史
  - 联系方式：手机、邮箱、紧急联系人
  - 标签系统：个人标签
  - 心理测评档案：测评历史记录、得分、等级
  - 访谈档案：访谈记录、访谈者、时长
  - 咨询档案：咨询记录、咨询师、时长
  - 危机干预档案：危机记录、等级、状态
  - 活动档案：活动参与记录、状态
  - 转介记录：转介机构、转介原因
  - 行为记录：行为类型、描述
  - 档案导出功能

**学生心理档案详细内容**
```
学生心理档案 
 ├── 基本信息 √ 
 ├── 学业信息 √ 
 ├── 健康信息 √ 
 ├── 心理测评档案 √ 
 ├── 访谈档案 √ 
 ├── 咨询档案 √ 
 ├── 危机干预档案 √ 
 ├── 活动档案 √ 
 ├── 转介记录 √ 
 ├── 行为记录 √ 
 ├── 标签系统 √ 
 └── 档案导出 √ 
```

#### 7. 联系辅导员
- **路径**: `/parent/contact`
- **功能**: 与子女的辅导员进行沟通
- **主要功能**:
  - 辅导员信息展示
  - 留言发送
  - 留言记录查看
  - 留言状态跟踪

#### 8. 家长留言箱
- **路径**: `/parent/message`
- **功能**: 发送留言和查看留言记录
- **主要功能**:
  - 留言发送表单
  - 留言记录展示
  - 留言状态筛选
  - 留言详情查看

## API接口封装

### 学生端API

| API文件 | 功能 | 主要接口 |
|--------|------|----------|
| `api/assessment.js` | 测评相关 | getMyAssessments, getAssessmentDetail, startAssessment, submitAssessment, getAssessmentResult |
| `api/activity.js` | 活动相关 | getActivityList, getActivityDetail, joinActivity, cancelActivityRegistration, checkinActivity, getMyActivities |
| `api/appointment.ts` | 预约相关 | createAppointmentAsync, updateAppointmentStatusAsync, getMyAppointmentsAsync, getAvailableSlots, getAvailableDates |

### 家长端API

| API文件 | 功能 | 主要接口 |
|--------|------|----------|
| `api/parent.js` | 家长相关 | getParentCounselor, sendParentMessage, getParentMessages, getChildrenList, bindChild, unbindChild, getChildAssessments, getChildAppointments, getChildActivities, getChildProfile |

## 模拟数据

### 学生端模拟数据
- **文件**: `src/mock/student.ts`
- **包含数据**:
  - 测评相关模拟数据
  - 活动相关模拟数据
  - 预约相关模拟数据

### 家长端模拟数据
- **文件**: `src/mock/parent.ts`
- **包含数据**:
  - 子女列表模拟数据
  - 辅导员信息模拟数据
  - 留言模拟数据
  - 测评模拟数据
  - 预约模拟数据
  - 活动模拟数据
  - 档案模拟数据

## 核心功能流程

### 学生端测评流程
1. 学生登录系统
2. 进入学生工作台，点击"心理测评"
3. 查看测评列表，选择待完成的测评
4. 点击"开始测评"进入测评详情页面
5. 完成测评题目并提交
6. 查看测评结果

### 家长端查看流程
1. 家长登录系统
2. 进入家长工作台，选择要查看的子女
3. 点击相应功能模块（如"测评情况"、"预约咨询"等）
4. 查看子女的相关记录和统计信息
5. 可以通过子女切换器查看其他子女的信息

### 预约流程
1. 学生登录系统
2. 进入学生工作台，点击"在线预约"
3. 选择预约日期和时间
4. 填写预约信息并提交
5. 查看预约状态和详情

## 技术栈

- **前端框架**: Vue 3 + Composition API
- **路由**: Vue Router
- **状态管理**: Pinia（可选）
- **UI组件**: Element Plus
- **HTTP请求**: Axios
- **构建工具**: Vite
- **样式**: CSS3 + 响应式设计

## 开发环境配置

### 模拟数据使用
在开发环境中，系统会自动使用`mock`目录下的模拟数据，无需后端服务即可进行功能开发和测试。生产环境则会切换到真实的API接口。

### 测试账号
- **管理者**: 账号: center, 密码: 123456
- **学生**:账号：student 密码：123456
- **家长**: 账号：13800138001 密码：123456

## 项目特点

1. **模块化设计**: 清晰的目录结构和功能划分
2. **响应式布局**: 适配不同设备屏幕
3. **模拟数据支持**: 无需后端即可开发和测试
4. **多端支持**: 学生端、家长端、管理端分离
5. **用户体验优化**: 友好的界面设计和交互流程
6. **数据可视化**: 测评统计、活动记录等数据的直观展示

## 后续优化方向

1. **性能优化**: 代码分割、懒加载等
2. **安全性增强**: 完善权限控制和数据加密
3. **功能扩展**: 增加更多心理健康服务功能
4. **用户体验**: 进一步优化界面设计和交互流程
5. **数据统计**: 增加更丰富的数据统计和分析功能
